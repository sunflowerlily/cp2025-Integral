# 项目3：计算带电圆环的电势和电场

## 目标

计算并画出均匀带电圆环周围的电势和电场分布图。

## 基本原理

### 电势 V

一个半径为 $a$、总电荷为 $4\pi\varepsilon_0q$ 的均匀带电圆环，在空间点 $(x,y,z)$ 产生的电势 $V$ 可以通过积分得到：

$$
V(x,y,z) = \frac{q}{4\pi\varepsilon_0} \oint_{\text{圆环}} \frac{1}{r} dl
$$

这里 $r$ 是场点到圆环上电荷微元的距离。

### 电场 E

电场是电势的负梯度：

$$
\vec{E} = -\nabla V = -\left(\frac{\partial V}{\partial x}\hat{x} + \frac{\partial V}{\partial y}\hat{y} + \frac{\partial V}{\partial z}\hat{z}\right)
$$

## 任务

1.  **计算电势:**
    *   编写函数计算任意点的电势 $V(x,y,z)$。
    *   利用对称性简化计算。
    *   注意处理场点靠近或在圆环上的情况。
2.  **计算电场:**
    *   编写函数计算电场的三个分量 $E_x, E_y, E_z$。
    *   可以使用数值方法（如中心差分）计算梯度。
3.  **可视化:**
    *   在选定的平面（如 x-z 平面）上绘制等势线。
    *   在同一平面上绘制电场线或电场矢量箭头图。

## 提示

*   **电势积分:** 利用圆环的轴对称性，可能只需要在一个平面计算。使用圆环的参数方程（如 $x=a\cos\phi, y=a\sin\phi, z=0$）进行积分。选择合适的数值积分方法（如 `scipy.integrate.quad`）。
*   **电场计算:** 用中心差分法计算偏导数：$\frac{\partial V}{\partial x} \approx \frac{V(x+h, y, z) - V(x-h, y, z)}{2h}$，选择合适的步长 $h$。
*   **可视化:** 使用 `matplotlib.pyplot` 的 `contour` 函数画等势线，`quiver` 函数画电场箭头。

## 预期结果

*   **电势图:** 圆环处电势最高，向外逐渐降低，等势线闭合或延伸至无穷远，关于 z 轴对称。
*   **电场图:** 电场线（或箭头）从圆环出发，指向电势降低的方向，垂直于等势线，关于 z 轴对称。

## 评分

*   **代码 (50分):** 电势计算正确 (20), 电场计算正确 (20), 代码清晰高效 (10)。
*   **可视化 (30分):** 等势线清晰 (10), 电场表示合理 (10), 图像美观 (10)。
*   **报告 (20分):** 简单原理说明 (5), 实现方法描述 (5), 结果分析 (10)。